import{ref as e}from"vue";const t=({request:t,onError:n})=>{let r=null,i=e(!1),a=(...e)=>r||(r=t(...e),r),o=(...e)=>(r=t(...e),i.value=!0,r?.catch(e=>{e instanceof Error&&!e.message.includes(`Unexpected token`)&&e.name!==`AbortError`&&n?.(e)}).finally(()=>{i.value=!1}),r),s=(...e)=>(o(...e),r.text()),c=(...e)=>(o(...e),r.stream()),l=(...e)=>(o(...e),r.blob()),u=(...e)=>(o(...e),r.arrayBuffer()),d=(...e)=>(o(...e),r.formData()),f=(...e)=>(o(...e),r.bytes()),p=()=>{if(i.value=!1,r)try{r?.abort()}catch(e){console.error(`cancel error`,e)}};return{request:a,stream:c,text:s,blob:l,arrayBufferData:u,formDataResult:d,bytesData:f,cancel:p,loading:i}};export{t as useHookFetch};