(function(e,t){typeof exports==`object`&&typeof module<`u`?module.exports=t(require(`mermaid`)):typeof define==`function`&&define.amd?define([`mermaid`],t):(e=typeof globalThis<`u`?globalThis:e||self,e[`markdown-it-mermaid`]=t(e.mermaid))})(this,function(e){"use strict";var t=Object.create,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.getPrototypeOf,o=Object.prototype.hasOwnProperty,s=(e,t,a,s)=>{if(t&&typeof t==`object`||typeof t==`function`)for(var c=i(t),l=0,u=c.length,d;l<u;l++)d=c[l],!o.call(e,d)&&d!==a&&n(e,d,{get:(e=>t[e]).bind(null,d),enumerable:!(s=r(t,d))||s.enumerable});return e},c=(e,r,i)=>(i=e==null?{}:t(a(e)),s(r||!e||!e.__esModule?n(i,`default`,{value:e,enumerable:!0}):i,e));e=c(e);let l=({delay:e},t)=>{let n,r=!0,i=(...i)=>{r?(clearTimeout(n),n=setTimeout(()=>{r&&t(...i),n=void 0},e)):t(...i)};return i.isPending=()=>n!==void 0,i.cancel=()=>{r=!1},i.flush=(...e)=>t(...e),i},u=({delay:t=30,...n}={})=>{e.default.initialize({...n});let r=l({delay:t},()=>{e.default.run()});return e=>{let t=e.renderer.rules.fence;e.renderer.rules.fence=(e,n,i,a,o)=>{let s=e[n];return s.info===`mermaid`&&s.content?(r(),`<pre class="mermaid">${s.content}</pre>`):t?.(e,n,i,a,o)}}};var d=u;return d});